"use strict";window.backend={upload:function(e,t,n){var o=new XMLHttpRequest;o.responseType="json",o.addEventListener("load",function(){200===o.status?t(o.status):n(o)}),o.open("POST","https://echo.htmlacademy.ru"),o.send(e)}},function(){var e=document.querySelector(".js-form");if(e)for(var t=e.querySelectorAll("input"),n=0;n<t.length;n++)t[n].addEventListener("input",o);function o(n){setTimeout(function(){var e=n.target,t=e.parentElement;!0===e.validity.valid&&(t.classList.remove("form__input-wrapper--invalid"),t.classList.contains("form__input-wrapper--valid")||t.classList.add("form__input-wrapper--valid")),!1===e.validity.valid&&0<e.value.length&&(t.classList.remove("form__input-wrapper--valid"),t.classList.contains("form__input-wrapper--invalid")||t.classList.add("form__input-wrapper--invalid")),0===e.value.length&&(t.classList.remove("form__input-wrapper--invalid"),t.classList.remove("form__input-wrapper--valid"))},100)}}(),$(".js-phone-mask").length&&$(".js-phone-mask").inputmask({mask:"+7 (999) 999-99-99",placeholder:"+7 (___) ___-__-__",showMaskOnHover:!1}),function(){var e=document.querySelector("body"),t=e.querySelector(".js-feedback"),n=e.querySelector(".modal-form-js"),o=27;if(t||n){var a=n.querySelector(".js-form"),s=a.querySelectorAll("input"),i=n.querySelector(".modal-button-js");t.addEventListener("click",function(e){e.preventDefault(),window.overlay.showOverlay(),scrollLock.disablePageScroll(n),function(){n.classList.remove("modal-form--hide"),n.classList.contains("modal-form--show")||n.classList.add("modal-form--show");i.addEventListener("click",f),document.addEventListener("keydown",v),document.addEventListener("click",p)}()}),a.addEventListener("submit",function(e){e.preventDefault(),window.backend.upload(new FormData(a),d,l)})}function r(){n.classList.remove("modal-form--show"),c(),n.classList.contains("modal-form--hide")||n.classList.add("modal-form--hide")}function l(){r(),c(),u(!1)}function d(){r(),c(),u(!0)}function c(){for(var e=0;e<s.length;e++)s[e].parentNode.classList.remove("form__input-wrapper--valid"),s[e].parentNode.classList.remove("form__input-wrapper--invalid"),s[e].value="",s[e].blur()}function u(e){window.modalMessage.renderMessage(e),document.addEventListener("keydown",v),document.addEventListener("click",p),window.modalMessage.onButtonClick(f)}function m(){window.overlay.hideOverlay(),scrollLock.enablePageScroll(n)}function v(e){e.keyCode===o&&f()}function p(e){e.target.classList.contains("overlay")&&f()}function f(){setTimeout(m,200),setTimeout(r,200),window.modalMessage.removeMessage(),i.removeEventListener("click",f),document.removeEventListener("keydown",v),document.removeEventListener("click",p)}}(),function(){var n,o=document.querySelector("body");window.modalMessage={renderMessage:function(e){var t;(n=document.createElement("div")).classList.add("modal-message"),t=e?"Отлично!<br> Сообщение отправлено.":"Ошибка.<br> Попробуйте ещё раз.",n.innerHTML='<div class="modal-message__content"><h2 class="modal-message__title">'+t+'</h2><button type="button" class="modal-message__button" title="Закрыть"></button></div>',o.appendChild(n)},removeMessage:function(){n&&(n.classList.add("modal-message--hide"),setTimeout(function(){o.removeChild(n),n=null},800))},onButtonClick:function(e){n.querySelector(".modal-message__button").addEventListener("click",e)}}}(),function(){var e=document.querySelector(".overlay");e&&(window.overlay={showOverlay:function(){e.classList.remove("overlay--hide"),e.classList.contains("overlay--show")||e.classList.add("overlay--show")},hideOverlay:function(){e.classList.remove("overlay--show"),e.classList.contains("overlay--hide")||e.classList.add("overlay--hide")}})}(),new Swiper(".slider-js",{slidesPerView:1,effect:"fade",updateOnWindowResize:!0,loop:!0,autoplay:{delay:4e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",type:"fraction",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});